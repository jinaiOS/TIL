# TIL
# ARC, 메모리 누수 해결법

## 힙 (Heap)

* 동적할당 영역으로 사용자의 동적 할당에 기반하고 런타임(runtime)에 크기가 결정됩니다.

## 스택 (Stack)

* 메서드 호출 시 메서드의 지역 변수, 매개 변수, 리턴 값 등이 저장되고 메서드가 종료되면 저장된 메모리도 해제됩니다.
* 컴파일 타임(compile time)에 크기가 결정됩니다.

## ARC(Automatic Reference Counting)

* 자동으로 메모리를 관리해주는 방식입니다. 레퍼런스 카운트(Reference Counts)가 0이 되면 더이상 참조되지 않는다고 판단하고 메모리에서 할당 해제시킵니다

## 강한 참조 순환(Strong Reference Cycle)문제와 해결 방법

* Swift로 개발할 때에는 메모리 누수(Memory Leak)을 주의해야 합니다
* 참조는 디폴트로 강한 참조(Strong Reference)를 사용하는데, 이 강한 참조를 잘못 사용하면 메모리 누수(Memory Leak) 문제가 발생할 수 있습니다.
* 가장 대표적인 예가 두 개 이상의 인스턴스가 서로가 서로를 강한 참조일 때 발생합니다. 이 문제를 강한 참조 순환(Strong Reference Cycle or Retain Cycle)이라고 합니다.
    * 강한 참조 순환: 메모리가 해제되지 않고 유지되어 메모리 누수가 발생하는 현상

* 약한 참조(weak), 미소유 참조(unowned)를 통해 해결할 수 있습니다
    * 약한 참조
        * 약한 참조는 강한 순환 참조를 해결하기 위해 사용되는 가장 보편적인 방법입니다.
        * 두 개의 객체 변수의 메모리가 해제되었을 때 약한 참조를 한 객체는 ARC에서 자동으로 객체의 메모리를 해제를 시켜줍니다! (nil 할당)
        * 약한 참조는 런타임에 값을 nil로 변경할 수 있어야 하므로 항상 let이 아닌 var 로 선언해야합니다.
    * 미소유 참조
        * 참조 객체의 메모리 해제시 약한 참조와 달리 참조 값은 유지됩니다.
        * 객체가 언제 메모리에 할당되고 할당 해제되는지 명확하고 개발자가 제어할 수 있는 것이 명확한 경우 사용하는 것이 좋습니다.
